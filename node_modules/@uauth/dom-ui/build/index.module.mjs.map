{"version":3,"file":"index.module.mjs","sources":["../src/styles.ts","../src/DomUI.ts"],"sourcesContent":["import {css, keyframes} from '@emotion/css'\n\nexport const overlay = css`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #00000080;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow-y: auto;\n  z-index: 2147483647;\n  * {\n    box-sizing: border-box;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n      Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;\n  }\n`\n\nexport const container = css`\n  background-color: #ffffff;\n  border-radius: 4px;\n  overflow: hidden;\n  width: 100%;\n  max-width: 400px;\n  position: absolute;\n  @media only screen and (max-width: 416px) {\n    max-width: calc(100% - 16px);\n    height: 100%;\n    max-height: calc(100% - 16px);\n  }\n`\n\nexport const close = css`\n  position: absolute;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  padding-top: 24px;\n  padding-right: 24px;\n  padding-bottom: 16px;\n  padding-left: 16px;\n  font-size: 24px;\n  min-width: 24px;\n  min-height: 24px;\n  max-width: 24px;\n  max-height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: black;\n  background-color: #ffffff;\n  box-shadow: 0 0 16px #ffffff;\n  border: none;\n  &:active {\n    color: #666;\n  }\n  &:before {\n    content: '\\\\2715';\n  }\n`\n\nexport const header = css`\n  padding: 16px;\n  padding-bottom: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`\n\nexport const logo = css`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 144px;\n  height: 144px;\n  border-radius: 50%;\n  border: 1px solid #e8e9ea;\n  box-shadow: 0 0 64px #e8e9ea;\n\n  & svg {\n    width: 96px;\n    height: 96px;\n    /* padding-bottom: 4px; */\n  }\n`\n\nexport const innerCircle = css`\n  width: 192px;\n  height: 192px;\n  border-radius: 50%;\n  border: 1px solid #e8e9ea;\n  position: absolute;\n`\n\nexport const middleCircle = css`\n  width: 240px;\n  height: 240px;\n  border-radius: 50%;\n  border: 1px solid #e8e9eabb;\n  position: absolute;\n`\n\nexport const outerCircle = css`\n  width: 288px;\n  height: 288px;\n  border-radius: 50%;\n  border: 1px solid #e8e9ea66;\n  position: absolute;\n`\n\nexport const title = css`\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  font-weight: 700;\n  font-size: 1.2em;\n  background-image: linear-gradient(#fff0, #fff, #fff);\n  height: 72px;\n  width: calc(100% + 64px);\n`\n\nexport const content = css`\n  padding: 0 16px;\n  width: 100%;\n  max-width: 375px;\n  margin: auto;\n  & form {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  & input {\n    text-align: center;\n    width: 100%;\n    font-size: 1rem;\n    padding: 8px 16px;\n    border-radius: 4px;\n    border: 2px solid #888;\n    user-select: initial;\n    &:focus {\n      outline: none;\n      border-color: #4b47ee;\n    }\n  }\n\n  & button {\n    margin-top: 8px;\n    text-align: center;\n    width: 100%;\n    font-size: 1rem;\n    font-family: inherit;\n    padding: 8px 16px;\n    border-radius: 4px;\n    font-weight: 600;\n    background-color: #4b47ee;\n    color: white;\n    border: 1.5px solid #4b47ee;\n    cursor: pointer;\n    &:disabled {\n      cursor: not-allowed;\n      background-color: #eeeef6;\n      color: #babac4;\n      border: 1.5px solid #e0e2ea;\n    }\n  }\n`\n\nexport const alert = css`\n  width: 100%;\n  text-align: center;\n  border-radius: 4px;\n  border: 1.5px solid #d33;\n  background-color: #d333;\n  color: #b33;\n  padding: 8px;\n  margin-top: 8px;\n  font-weight: 600;\n`\n\nexport const footer = css`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #4b47ee;\n  width: 100%;\n  max-width: 375px;\n  padding: 24px 16px;\n  margin: auto;\n  & > a {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    text-decoration: none;\n    color: inherit;\n  }\n  & svg {\n    height: 1rem;\n    width: 1rem;\n    margin-right: 3px;\n  }\n`\n\nexport const hidden = css`\n  /* visibility: hidden; */\n  display: none;\n`\n\nexport const spin = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`\n\nexport const loading = css`\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n\n  &:after {\n    content: ' ';\n    display: block;\n    width: 0.75em;\n    height: 0.75em;\n    border-radius: 50%;\n    border: 3px solid;\n    border-color: currentColor currentColor currentColor transparent;\n    animation: ${spin} 1.2s linear infinite;\n  }\n`\n","import AbstractUI, {UIOptions} from '@uauth/abstract-ui'\nimport {\n  alert,\n  close,\n  container,\n  content,\n  footer,\n  header,\n  hidden,\n  innerCircle,\n  loading as loadingStyles,\n  logo,\n  middleCircle,\n  outerCircle,\n  overlay,\n  title,\n} from './styles'\n\nconst nameRegex =\n  /^([a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\\.)(x|crypto|coin|wallet|bitcoin|888|nft|dao|blockchain)$/\n\nexport interface DomUIOptions {\n  className?: string\n  defaultValue: string\n  container?: HTMLElement\n  document?: Document\n  id: string\n  learnMoreLink: string\n  getADomainLink: string\n}\n\nexport type DomUIConstructorOptions = Partial<DomUIOptions>\n\nclass DomUI<T> implements AbstractUI<T> {\n  public options: DomUIOptions\n\n  getContainer(): HTMLElement {\n    return this.options.container ?? window.document.body\n  }\n\n  getDocument(): Document {\n    return this.options.document ?? window.document\n  }\n\n  constructor(options: DomUIConstructorOptions = {}) {\n    options.id = options.id ?? 'uauth-vanilla-ui'\n    options.learnMoreLink =\n      options.learnMoreLink ??\n      'https://unstoppabledomains.com/blog/login-with-unstoppable'\n    options.getADomainLink =\n      options.getADomainLink ?? 'https://unstoppabledomains.com'\n\n    if (\n      !options.learnMoreLink.startsWith('https://unstoppabledomains.com') ||\n      !options.getADomainLink.startsWith('https://unstoppabledomains.com')\n    ) {\n      throw new Error(\n        'Can only use https://unstoppabledomains.com based links.',\n      )\n    }\n\n    this.options = options as DomUIOptions\n  }\n\n  getInnerHTML(defaultValue: string): string {\n    return /* html */ `\n<div class=\"${overlay}\">\n\n  <div class=\"${container}\">\n    <div id=\"${this.options.id}-close\" class=\"${close}\"></div>\n    <div class=\"${header}\">\n      <div class=\"${logo}\">\n        <div class=\"${innerCircle}\"></div>\n        <div class=\"${middleCircle}\"></div>\n        <div class=\"${outerCircle}\"></div>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"><path fillRule=\"evenodd\" clip-rule=\"evenodd\" fill=\"#2FE9FF\" d=\"M22.7319 2.06934V9.87229L0 19.094L22.7319 2.06934Z\" /><path fillRule=\"evenodd\" clip-rule=\"evenodd\" fill=\"#4C47F7\" d=\"M18.4696 1.71387V15.1917C18.4696 19.1094 15.2892 22.2853 11.3659 22.2853C7.44265 22.2853 4.26221 19.1094 4.26221 15.1917V9.51682L8.52443 7.17594V15.1917C8.52443 16.5629 9.63759 17.6745 11.0107 17.6745C12.3839 17.6745 13.497 16.5629 13.497 15.1917V4.4449L18.4696 1.71387Z\" /></svg>\n      </div>\n      <div class=\"${title}\">Login with Unstoppable</div>\n    </div>\n\n    <div class=\"${content}\">\n      <form id=\"${this.options.id}-form\">\n        <input \n          id=\"${this.options.id}-input\"\n          type=\"text\"\n          spellcheck=\"false\"\n          autocapitalize=\"none\"\n          autocomplete=\"off\"\n          placeholder=\"Enter your domain name\"\n          autofocus\n          value=\"${defaultValue}\"\n          />\n        <div id=\"${this.options.id}-error\" class=\"${alert} ${hidden}\"></div>\n        <button type=\"submit\" id=\"${this.options.id}-button\">Continue</button>\n      </form>\n    </div>\n\n    <div class=\"${footer}\">\n      <a href=\"${this.options.learnMoreLink}\">\n        <svg class=\"svg-inline--fa fa-question-circle fa-w-16\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"question-circle\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n          <path fill=\"currentColor\" d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z\"></path>\n        </svg>\n        <div>Learn More</div>\n      </a>\n      <a href=\"${this.options.getADomainLink}\">\n        <svg class=\"svg-inline--fa fa-external-link-alt fa-w-16\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"external-link-alt\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n          <path fill=\"currentColor\" d=\"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z\"></path>\n        </svg>\n        <div>Get a Domain</div>\n      </a>\n    </div>\n\n  </div>\n\n</div>\n    `\n  }\n\n  async open(options: UIOptions<T>): Promise<T> {\n    const {className, id} = this.options\n\n    let element: HTMLElement\n    const existingElement = this.getDocument().getElementById(id)\n    if (existingElement) {\n      element = existingElement\n    } else {\n      element = this.getDocument().createElement('div')\n      element.id = id\n    }\n\n    if (typeof className === 'string') {\n      element.className = className\n    }\n    element.classList.add('uauth-vanilla-ui')\n\n    element.innerHTML = this.getInnerHTML(\n      options.defaultValue ?? this.options.defaultValue,\n    )\n\n    if (!element.parentElement) {\n      this.getContainer().appendChild(element)\n    }\n\n    const inputElement: HTMLInputElement = this.getDocument().getElementById(\n      `${this.options.id}-input`,\n    ) as HTMLInputElement\n    if (!inputElement) {\n      throw new Error('Unable to find inputElement in modal')\n    }\n\n    const formElement = this.getDocument().getElementById(\n      `${this.options.id}-form`,\n    ) as HTMLFormElement\n    if (!formElement) {\n      throw new Error('Unable to find formElement in modal')\n    }\n\n    const closeElement = this.getDocument().getElementById(\n      `${this.options.id}-close`,\n    ) as HTMLElement\n    if (!closeElement) {\n      throw new Error('Unable to find closeElement in modal')\n    }\n\n    const errorElement = this.getDocument().getElementById(\n      `${this.options.id}-error`,\n    ) as HTMLElement\n    if (!errorElement) {\n      throw new Error('Unable to find errorElement in modal')\n    }\n\n    const buttonElement = this.getDocument().getElementById(\n      `${this.options.id}-button`,\n    ) as HTMLElement\n    if (!errorElement) {\n      throw new Error('Unable to find buttonElement in modal')\n    }\n\n    function setError(error: Error | void) {\n      if (error) {\n        errorElement.innerText = error.message\n        errorElement.classList.remove(hidden)\n\n        buttonElement.classList.add(hidden)\n      } else {\n        errorElement.innerText = ''\n        errorElement.classList.add(hidden)\n\n        buttonElement.classList.remove(hidden)\n      }\n    }\n\n    let loading = false\n    function setLoading(isLoading: boolean) {\n      loading = isLoading\n\n      if (isLoading) {\n        buttonElement.setAttribute('disabled', 'disabled')\n        buttonElement.innerHTML = `<div class=\"${loadingStyles}\"></div>`\n      } else {\n        buttonElement.removeAttribute('disabled')\n        buttonElement.innerText = 'Continue'\n      }\n    }\n\n    let domain = inputElement.value\n    let shouldClose = true\n    let handleKeydown: (this: Document, ev: KeyboardEvent) => any\n    return new Promise<T>((resolve, reject) => {\n      this.getDocument().addEventListener(\n        'keydown',\n        (handleKeydown = e => {\n          if (e.key === 'Escape') {\n            reject(new Error('Modal closed!'))\n          }\n        }),\n      )\n\n      inputElement.oninput = e => {\n        // This is a trick to make the input non-interactive while the form is submitting\n        if (!loading) {\n          // NOTE: We cannot simply use .replace(/\\s/, '-') because double space periods wouldn't work.\n          // TODO: Simpify this...\n          domain = inputElement.value\n            .toLowerCase()\n            .replace(/(^-)|(^\\s+)/gi, '') // No extra space at front of string\n            .replace(/(-\\s+)|(\\s+-)|(--)/gi, '-') // No double hyphens or extra space next to existing hyphens\n            .replace(/(\\.\\.)|(\\s+\\.)/gi, '.') // No double periods or space before periods\n            .replace(/\\.\\s+([a-z0-9]+)/gi, '.$1') // Removes spaces after periods and before labels\n            .replace(/([a-z0-9]+)\\s+([a-z0-9]+)/gi, '$1-$2') // Replace spaces inbetween words with hyphens\n\n          setError(undefined)\n        }\n        inputElement.value = domain\n      }\n\n      formElement.onsubmit = e => {\n        e.preventDefault()\n        Promise.resolve()\n          .then(async () => {\n            if (!nameRegex.test(domain)) {\n              throw new Error(`Domain ${domain} is invalid`)\n            }\n\n            setLoading(true)\n            resolve(await options.submit(domain))\n            if (!options.closeOnFinish) {\n              shouldClose = false\n            }\n          })\n          .catch(error => {\n            setLoading(false)\n            setError(error)\n          })\n      }\n\n      closeElement.onclick = () => {\n        reject(new Error('Modal closed!'))\n      }\n\n      this._closer = () => {\n        this.getDocument().removeEventListener('keydown', handleKeydown)\n        this.getContainer().removeChild(element)\n      }\n    }).finally(async () => {\n      if (shouldClose) {\n        this.close()\n      }\n    })\n  }\n\n  private _closer?: () => void\n  close(): void {\n    if (this._closer) {\n      this._closer()\n      delete this._closer\n    }\n  }\n}\n\nexport default DomUI\n"],"names":["_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","overlay","css","_taggedTemplateLiteralLoose","container","close","header","logo","innerCircle","middleCircle","outerCircle","title","content","alert","footer","hidden","spin","keyframes","loading","nameRegex","DomUI","getContainer","options","_options$id","_options$learnMoreLin","_options$getADomainLi","_closer","id","learnMoreLink","getADomainLink","startsWith","Error","this","_this$options$contain","window","document","body","getDocument","_this$options$documen","getInnerHTML","defaultValue","open","_options$defaultValue","element","_this2","setError","error","errorElement","innerText","message","classList","remove","buttonElement","add","setLoading","isLoading","setAttribute","innerHTML","loadingStyles","removeAttribute","_this2$options","className","existingElement","getElementById","createElement","parentElement","appendChild","inputElement","formElement","closeElement","handleKeydown","domain","value","shouldClose","Promise","resolve","reject","addEventListener","e","key","oninput","toLowerCase","replace","undefined","onsubmit","preventDefault","then","test","submit","_options$submit","closeOnFinish","onclick","removeEventListener","removeChild"],"mappings":"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"}